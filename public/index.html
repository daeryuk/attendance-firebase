<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>출석 관리 시스템</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/full-statistics.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <script>
      var firebaseConfig = {
        apiKey: "AIzaSyD0-N62tFBF9H_qsGQN9ILWwLNoH0ubEXI",
        authDomain: "attendance-register-web.firebaseapp.com",
        databaseURL: "https://attendance-register-web-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "attendance-register-web",
        storageBucket: "attendance-register-web.appspot.com",
        messagingSenderId: "687390240405",
        appId: "1:687390240405:web:f10180d55593990f26f59c"
      };
      firebase.initializeApp(firebaseConfig);
    </script>
</head>
<body>
    <div class="container">
        <div id="login-section" class="section">
            <h2>로그인</h2>
            <form id="login-form">
                <div class="form-group">
                    <label for="login-useremail">이메일</label>
                    <input type="text" id="login-useremail" required>
                </div>
                <div class="form-group">
                    <label for="login-password">비밀번호</label>
                    <input type="password" id="login-password" required>
                </div>
                <button type="submit"><span class="material-icons">login</span>로그인</button>
            </form>
            <p>계정이 없으신가요? <a href="#" id="show-register">회원가입</a></p>
        </div>

        <div id="register-section" class="section hidden">
            <h2>회원가입</h2>
            <form id="register-form">
                <div class="form-group">
                    <label for="register-useremail">이메일</label>
                    <input type="text" id="register-useremail" required>
                </div>
                <div class="form-group">
                    <label for="register-password">비밀번호</label>
                    <input type="password" id="register-password" required>
                </div>
                <div class="form-group">
                    <label for="register-name">이름</label>
                    <input type="text" id="register-name" required>
                </div>
                <button type="submit"><span class="material-icons">person_add</span>회원가입</button>
            </form>
            <p>이미 계정이 있으신가요? <a href="#" id="show-login">로그인</a></p>
        </div>

        <div id="main-section" class="section hidden">
            <div class="header">
                <h2>출석 관리 시스템</h2>
                <div style="display: flex; gap: 12px; align-items: center;">
                    <button id="full-statistics-btn"><span class="material-icons">insights</span>전체 통계</button>
                    <button id="logout-btn"><span class="material-icons">logout</span>로그아웃</button>
                </div>
            </div>
            
            <div class="class-management">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                    <h3 style="margin: 0;">학급 관리</h3>
                    <button id="add-class-btn"><span class="material-icons">add</span>새 학급 만들기</button>
                </div>
                <div id="class-list"></div>
            </div>

            <div id="class-detail" class="hidden">
                <h3>학급 상세 정보</h3>
                <div class="class-info">
                    <input type="text" id="class-name" placeholder="학급 이름">
                    <button id="save-class-btn"><span class="material-icons">save</span>저장</button>
                </div>
                
                <div class="teachers-section">
                    <h4>담임 선생님</h4>
                    <button id="add-teacher-btn"><span class="material-icons">person_add</span>선생님 추가</button>
                    <div id="teachers-list"></div>
                </div>

                <div class="students-section">
                    <h4>학생 목록</h4>
                    <button id="add-student-btn"><span class="material-icons">person_add</span>학생 추가</button>
                    <div id="students-list"></div>
                </div>
            </div>

            <div id="attendance-section" class="hidden">
                <h3>출석 관리</h3>
                <div id="attendance-list"></div>
            </div>

            <div id="statistics-section" class="hidden">
                <h3>통계</h3>
                <div id="calendar"></div>
                <div id="attendance-stats"></div>
                <div id="long-term-absence"></div>
            </div>

            <div id="full-statistics-section" class="hidden section">
                <h3>전체 통계</h3>
                <button id="back-to-main-btn" style="margin-bottom: 16px;">
                    <span class="material-icons">arrow_back</span> 돌아가기
                </button>
                <div class="full-statistics-date-picker">
                    <span class="material-icons calendar-icon">calendar_month</span>
                    <label for="full-statistics-date" class="date-label">날짜 선택</label>
                    <input type="date" id="full-statistics-date" class="date-input">
                </div>
                <div id="full-statistics-result"></div>
            </div>
        </div>
    </div>

    <script src="js/auth.js"></script>
    <script src="js/class.js"></script>
    <script src="js/attendance.js"></script>
    <script src="js/full-statistics.js"></script>
    <script src="js/main.js"></script>
</body>
</html> 